(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[681],{5562:function(e,t,r){Promise.resolve().then(r.bind(r,6699))},6699:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var a=r(7437),i=r(2265),n=r(6067),l=r(2255),s=r(8700);let o=(0,r(8439).eI)("https://hxxtxbedgbexwvmmibxe.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh4eHR4YmVkZ2JleHd2bW1pYnhlIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NjU0MTY0MCwiZXhwIjoyMDcyMTE3NjQwfQ.mD1OPuzsAbexc7RwKYWnbGXqON7KlsCtmy_43Rs2EGI");async function d(e){try{var t,r,a;let i=null;try{let t=await o.from("meetings").select("*").eq("date",(0,l.WU)(e.date,"yyyy-MM-dd")).eq("time_slot",e.timeSlot);t.error?console.warn("Availability check failed; proceeding optimistically:",t.error):i=t.data}catch(e){console.warn("Availability check threw; proceeding optimistically:",e)}if(i&&i.length>0)throw Error("This time slot is already booked");let n={name:e.name,email:e.email,company:e.company,message:e.message,date:(0,l.WU)(e.date,"yyyy-MM-dd"),time_slot:e.timeSlot,status:"scheduled",created_at:new Date().toISOString()};"string"==typeof e.timezone&&(n.timezone=e.timezone);let s=await o.from("meetings").insert([n]).select().single(),d=s.data,m=s.error;if(m){let e=String((null==m?void 0:m.message)||"");if(/Could find the|Could not find the|timezone/.test(e)||(null==m?void 0:m.code)==="PGRST204"){console.warn("Supabase insert failed due to schema mismatch; retrying without optional fields",m);let e={...n};delete e.timezone;let t=await o.from("meetings").insert([e]).select().single();d=t.data,m=t.error}}if(m){console.error("Supabase insert error when scheduling meeting:",m);let e=String((null==m?void 0:m.message)||m);if(/Failed to fetch|TypeError: Failed to fetch|network/i.test(e))throw Error("Network error while scheduling. Please check your connection and try again.");throw Error("Failed to schedule meeting: "+(null!==(t=m.message)&&void 0!==t?t:String(m)))}try{let t=(null===(r=window.location)||void 0===r?void 0:r.origin)?window.location.origin:"http://localhost:3000",i=new URL("/api/schedule",t).toString(),n=new AbortController,s=setTimeout(()=>n.abort(),15e3),o=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,date:(0,l.WU)(e.date,"yyyy-MM-dd"),timeSlot:e.timeSlot,message:e.message,timezone:null!==(a=e.timezone)&&void 0!==a?a:null}),signal:n.signal});clearTimeout(s);let m=null;try{m=await o.json()}catch(e){m={ok:o.ok}}return{success:!0,meeting:d,email:{ok:o.ok,body:m}}}catch(e){if(e&&("AbortError"===e.name||String(e).includes("AbortError")))return console.warn("Email API request timed out (15s) — emails may have been sent by the server."),{success:!0,meeting:d,email:{ok:!1,error:"timeout"}};return console.error("Failed to trigger email notifications:",e),{success:!0,meeting:d,email:{ok:!1,error:String(e)}}}}catch(e){throw console.error("Error scheduling meeting:",e),e}}async function m(e){let t=(0,l.WU)(e,"yyyy-MM-dd");try{var r,a;let e=await o.from("meetings").select("time_slot, date").eq("date",t).eq("status","scheduled");if(!e.error)return null!==(r=e.data)&&void 0!==r?r:[];console.warn("getBookedTimeSlots: falling back to query without status filter due to error:",e.error);let i=await o.from("meetings").select("time_slot, date").eq("date",t);if(!i.error)return null!==(a=i.data)&&void 0!==a?a:[];return console.error("getBookedTimeSlots: both queries failed",i.error),[]}catch(e){return console.error("Error getting booked time slots:",e),[]}}async function c(e){try{let r=(0,l.WU)(e,"yyyy-MM-dd"),{data:a,error:i}=await o.rpc("get_time_slots",{p_date:r});if(i){var t;throw console.error("Supabase RPC error get_time_slots:",i),Error("Failed to fetch time slots: "+(null!==(t=i.message)&&void 0!==t?t:String(i)))}return null!=a?a:[]}catch(e){throw console.error("Error getting time slots via RPC:",e),e}}var u=r(2869),g=r(5974),x=r(4508);let f=i.forwardRef((e,t)=>{let{className:r,type:i,...n}=e;return(0,a.jsx)("input",{type:i,className:(0,x.cn)("flex h-10 w-full rounded-md border border-input bg-input px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});f.displayName="Input";var b=r(8149);let h=["09:00","10:00","11:00","13:00","14:00","15:00","16:00"];function y(){var e;let[t,r]=(0,i.useState)(!1),[o,x]=(0,i.useState)(1),[y,p]=(0,i.useState)(1),[v,w]=(0,i.useState)({name:"",email:"",date:void 0,time:"",message:""}),[N,j]=(0,i.useState)([]),[k,S]=(0,i.useState)(null),[C,E]=(0,i.useState)(!1),[z,T]=(0,i.useState)({}),[A,I]=(0,i.useState)(!1),[_,M]=(0,i.useState)(null),[U,D]=(0,i.useState)(null),[O,R]=(0,i.useState)(!1),[F,P]=(0,i.useState)(null);(0,i.useEffect)(()=>{if(!_)return;let e=setTimeout(()=>M(null),5e3);return()=>clearTimeout(e)},[_]),(0,i.useEffect)(()=>{r(!0)},[]),(0,i.useEffect)(()=>{if(!t)return;let e=!0;try{let t=Intl.DateTimeFormat().resolvedOptions().timeZone;t&&e&&w(e=>({...e,timezone:e.timezone||t}))}catch(e){}return(async()=>{R(!0);try{let t=Intl.DateTimeFormat().resolvedOptions().timeZone;if(!e)return;w(e=>e.timezone&&"UTC"!==e.timezone?e:{...e,timezone:t}),P({"America/New_York":"US","America/Los_Angeles":"US","America/Chicago":"US","America/Denver":"US","Europe/London":"GB","Europe/Paris":"FR","Europe/Berlin":"DE","Europe/Rome":"IT","Europe/Madrid":"ES","Asia/Tokyo":"JP","Asia/Shanghai":"CN","Asia/Kolkata":"IN","Australia/Sydney":"AU","America/Toronto":"CA","America/Vancouver":"CA"}[t]||"US");try{let r=new AbortController,a=setTimeout(()=>r.abort(),2e3),i=await fetch("https://ipapi.co/json",{signal:r.signal});if(clearTimeout(a),i.ok){let r=null;try{r=await i.json()}catch(e){r=null}if(!e)return;let a=r&&r.timezone||t;w(e=>e.timezone&&"UTC"!==e.timezone?e:{...e,timezone:a}),r&&(r.country_code||r.country)&&P(String(r.country_code||r.country).toUpperCase());return}}catch(e){}try{let e="undefined"!=typeof navigator&&navigator.language?navigator.language:"",t=e.includes("-")?e.split("-")[1]:"";t&&P(t.toUpperCase())}catch(e){}}finally{e&&R(!1)}})(),()=>{e=!1}},[t]),(0,i.useEffect)(()=>{if(!t)return;let e=!0;try{var r;if("function"==typeof(null===(r=Intl)||void 0===r?void 0:r.supportedValuesOf)){let t=Intl.supportedValuesOf("timeZone"),r=v.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,a=r&&!t.includes(r)?[r,...t]:t;e&&D(a)}else{let t=v.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,r=["UTC","Europe/London","Europe/Berlin","America/New_York","America/Chicago","America/Los_Angeles","Asia/Dubai","Asia/Kolkata","Asia/Tokyo","Australia/Sydney"],a=t&&!r.includes(t)?[t,...r]:r;e&&D(a)}}catch(e){D(["UTC"])}return()=>{e=!1}},[t,v.timezone]),(0,i.useEffect)(()=>{if(o!==y){let e=setTimeout(()=>p(o),250);return()=>clearTimeout(e)}},[o,y]),(0,i.useEffect)(()=>{let e=!0;return(async()=>{if(!v.date){j([]),S(null);return}E(!0);try{let t=await m(v.date);e&&j(t||[])}catch(t){e&&j([])}try{let t=await c(v.date);e&&S(null!=t?t:[])}catch(t){e&&S(null)}finally{e&&E(!1)}})(),()=>{e=!1}},[v.date]);let B=(e=>{if(!e)return"";let t=e.trim().toUpperCase();return 2!==t.length?"":String.fromCodePoint(t.charCodeAt(0)-65+127462,t.charCodeAt(1)-65+127462)})(F),Z=(e,t)=>{w(r=>({...r,[e]:t})),T(t=>({...t,[e]:void 0}))};(0,i.useEffect)(()=>{let e=v.timezone;if(e)try{let t=(0,b.EP)(e);if(t&&t.countries&&t.countries.length>0){P(t.countries[0]);return}let r=e.split("/");if(r.length>0){let e=r[0].toUpperCase(),t={AMERICA:"US",EUROPE:"DE",ASIA:"IN",AUSTRALIA:"AU",AFRICA:"ZA"};t[e]&&P(t[e])}}catch(e){}},[v.timezone]);let V=e=>{if(!v.date)return!1;let t=v.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone;try{var r,a;let i=new Date,n=new Intl.DateTimeFormat("en-GB",{timeZone:t,year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(i),l=e=>{var t;return Number((null===(t=n.find(t=>t.type===e))||void 0===t?void 0:t.value)||"0")},s=l("year"),o=l("month"),d=l("day"),m=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"2-digit",minute:"2-digit",hour12:!1}).formatToParts(i),c=Number((null===(r=m.find(e=>"hour"===e.type))||void 0===r?void 0:r.value)||"0"),u=Number((null===(a=m.find(e=>"minute"===e.type))||void 0===a?void 0:a.value)||"0"),g=v.date.getFullYear(),x=v.date.getMonth()+1,f=v.date.getDate();if(g<s||g===s&&(x<o||x===o&&f<d))return!0;if(g>s||g===s&&(x>o||x===o&&f>d))return!1;let[b,h]=e.split(":").map(Number);if(b<c||b===c&&h<=u)return!0;return!1}catch(e){return!1}},W=()=>{let e={};return v.name||(e.name="Name is required"),v.email?/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(v.email)||(e.email="Invalid email"):e.email="Email is required",v.date||(e.date="Please select a date"),v.time||(e.time="Please select a time"),T(e),0===Object.keys(e).length},L=async e=>{if(null==e||e.preventDefault(),W()){I(!0);try{let e={name:v.name,email:v.email,company:"",message:v.message,date:v.date,timeSlot:v.time,...v.timezone?{timezone:v.timezone}:{}},r=await d(e);if(r&&r.success){let e=r.email;if(e&&e.ok)M({type:"success",message:"Confirmation email sent to you and admin."});else{var t;let r=(null==e?void 0:null===(t=e.body)||void 0===t?void 0:t.error)||(null==e?void 0:e.error)||"Email notifications failed to send.";M({type:"error",message:String(r)})}x(3)}else T(e=>({...e,submit:"Failed to schedule meeting"}))}catch(e){T(t=>{var r;return{...t,submit:null!==(r=null==e?void 0:e.message)&&void 0!==r?r:"Failed to schedule meeting"}})}finally{I(!1)}}},Y=e=>{var t;if(!v.date)return!1;let r=(t=v.date)?(0,l.WU)(t,"yyyy-MM-dd"):"";return N.some(t=>t.date===r&&t.time_slot===e)};return(0,i.useEffect)(()=>{var e,t;if(!v.time)return;let r=v.time,a=Y(r),i=V(r),n=null!==(t=null==k?void 0:null===(e=k.find(e=>e.time_slot===r))||void 0===e?void 0:e.is_booked)&&void 0!==t&&t;(a||n||i)&&Z("time","")},[v.date,v.timezone,JSON.stringify(k)]),(0,a.jsxs)("main",{className:"w-full min-h-screen bg-gradient-to-br from-white to-blue-50 dark:from-gray-900 dark:to-gray-800",children:[(0,a.jsxs)("section",{className:"w-full py-8 flex flex-col items-center bg-gradient-to-b from-white to-transparent dark:from-gray-900 dark:to-transparent px-2",children:[(0,a.jsx)("h1",{className:"text-2xl md:text-4xl font-extrabold text-center text-blue-900 dark:text-white leading-tight mb-2 md:mb-5",children:"Book a Meeting with SM Supports"}),(0,a.jsx)("div",{className:"w-full max-w-full md:max-w-xl mb-2 md:mb-3",children:(()=>{let e=[{label:"Date & Time",isComplete:!!(v.date&&v.time)},{label:"Details",isComplete:o>2},{label:"Confirmation",isComplete:3===o}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:e.map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-col items-center w-[33%]",children:[(0,a.jsx)("div",{className:"\n                        flex items-center justify-center rounded-full border-2\n                        w-8 h-8 md:w-9 md:h-9 font-bold text-base md:text-lg transition-all duration-300\n                        ".concat(e.isComplete?"border-green-500 bg-green-500 text-white scale-105":o===t+1?"border-blue-600 bg-blue-600 text-white":"border-gray-300 bg-white text-gray-400 dark:bg-transparent dark:border-gray-600 dark:text-gray-400","\n                      "),children:e.isComplete?"✓":t+1}),(0,a.jsx)("div",{className:"mt-2 font-semibold text-xs md:text-base transition-colors duration-300 text-center truncate\n                        ".concat(e.isComplete?"text-green-600":o===t+1?"text-blue-700":"text-gray-400 dark:text-gray-400"),children:e.label})]},t))}),(0,a.jsx)("div",{className:"flex items-center justify-between mt-2",children:e.map((t,r)=>r<e.length-1?(0,a.jsx)("div",{className:"flex-1 h-1 mx-2 rounded-full transition-all duration-300 ".concat(o>r+1?"bg-green-400":o===r+1?"bg-blue-300":"bg-gray-200 dark:bg-gray-700")},"bar-".concat(r)):(0,a.jsx)("div",{className:"w-8"},"sp-".concat(r)))})]})})()}),(0,a.jsx)("p",{className:"text-sm md:text-lg text-gray-600 dark:text-gray-300 text-center max-w-lg mx-auto mt-2",children:"Schedule a call: pick your slot, enter your details, and you're set."})]}),(0,a.jsx)("section",{className:"flex justify-center items-start py-6 md:py-8 px-2",children:(0,a.jsxs)("div",{className:"w-full max-w-md md:max-w-3xl bg-white dark:bg-gray-900 rounded-2xl shadow-lg md:shadow-xl border border-gray-100 dark:border-gray-800 px-4 md:px-8 py-6 md:py-8 flex flex-col md:flex-row gap-0 md:gap-12 transition-all duration-300",children:[(0,a.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col items-center border-b md:border-b-0 md:border-r border-gray-100 dark:border-gray-800 md:pr-8 pb-6 md:pb-0 mb-6 md:mb-0",children:[(0,a.jsx)("h2",{className:"font-bold text-lg md:text-2xl text-blue-700 dark:text-blue-300 mb-2",children:"Select a Date"}),(0,a.jsx)(n._,{mode:"single",selected:v.date,onSelect:e=>Z("date",e),disabled:{before:new Date,after:(0,s.E)(new Date,30)},className:"mb-1",classNames:{months:"flex flex-col",day_selected:"bg-blue-600 text-white hover:bg-blue-700",day_today:"font-bold text-blue-600",day:"w-9 h-9 rounded-md font-medium"}}),z.date&&(0,a.jsx)("p",{className:"text-xs text-red-500 mt-1",children:z.date})]}),(0,a.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col",children:[(0,a.jsxs)("div",{className:"transition-all duration-300 ".concat(1===y?"block":"hidden"),children:[(0,a.jsx)("h2",{className:"text-lg md:text-xl font-bold text-blue-700 mb-2",children:"Choose a Time"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-3 mb-4",children:(null!=k?k:h.map(e=>({time_slot:e,is_booked:Y(e)}))).map(e=>{let t=V(e.time_slot),r=e.is_booked||t;return(0,a.jsx)("button",{disabled:r,className:"\n                      py-2 md:py-3 rounded-xl text-base font-semibold border shadow-sm\n                      transition\n                      ".concat(r?"bg-gray-50 text-gray-300 cursor-not-allowed":v.time===e.time_slot?"bg-blue-600 text-white shadow-lg":"bg-white border-gray-200 hover:bg-blue-50 hover:text-blue-700 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700 dark:hover:bg-gray-700 dark:hover:text-white","\n                    "),onClick:()=>!r&&Z("time",v.time===e.time_slot?"":e.time_slot),type:"button",children:e.time_slot},e.time_slot)})}),z.time&&(0,a.jsx)("p",{className:"text-xs text-red-500 mb-2",children:z.time}),(0,a.jsx)(u.z,{className:"w-full py-2 md:py-3 rounded-lg bg-blue-600 text-white text-base md:text-lg font-bold shadow-sm hover:bg-blue-700 disabled:opacity-70",onClick:()=>x(2),disabled:!v.time,children:"Next"})]}),(0,a.jsxs)("form",{onSubmit:L,className:"transition-all duration-300 space-y-5 md:space-y-6 ".concat(2===y?"block":"hidden"),children:[(0,a.jsx)("h2",{className:"text-lg md:text-xl font-bold text-blue-700 mb-2",children:"Enter Your Details"}),(0,a.jsx)(f,{name:"name",value:v.name,onChange:e=>Z("name",e.target.value),placeholder:"Full Name",disabled:A,className:"mb-1"}),z.name&&(0,a.jsx)("p",{className:"text-xs text-red-500",children:z.name}),(0,a.jsx)(f,{name:"email",type:"email",value:v.email,onChange:e=>Z("email",e.target.value),placeholder:"Your Email",disabled:A,className:"mb-1"}),z.email&&(0,a.jsx)("p",{className:"text-xs text-red-500",children:z.email}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("label",{className:"text-sm text-muted-foreground mb-1 flex items-center gap-2",children:[(0,a.jsx)("span",{children:"Timezone"}),B&&(0,a.jsx)("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-gray-100 border border-gray-200 text-base",children:B})]}),O?(0,a.jsx)(f,{name:"timezone",value:v.timezone||"",onChange:e=>Z("timezone",e.target.value),placeholder:"Timezone",disabled:A,className:"mb-1"}):U?(0,a.jsxs)("select",{value:v.timezone||"",onChange:e=>Z("timezone",e.target.value),className:"p-2 rounded-md border border-input bg-input text-sm",children:[(0,a.jsx)("option",{value:"",children:"(Select timezone)"}),U.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}):(0,a.jsx)(f,{name:"timezone",value:v.timezone||"",onChange:e=>Z("timezone",e.target.value),placeholder:"Timezone",disabled:A,className:"mb-1"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-2",children:[(0,a.jsxs)("span",{children:["Detected timezone: ",null!==(e=v.timezone)&&void 0!==e?e:"unknown"]}),F&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)("span",{className:"inline-flex items-center justify-center w-4 h-4 rounded-full bg-gray-100 border border-gray-200 text-xs",children:B}),(0,a.jsx)("span",{className:"uppercase text-[10px] tracking-wide",children:F})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between gap-2 md:gap-2",children:[(0,a.jsx)(u.z,{variant:"outline",type:"button",className:"w-full md:w-1/3",onClick:()=>x(1),disabled:A,children:"← Back"}),(0,a.jsx)(u.z,{type:"submit",className:"w-full md:w-2/3 bg-blue-600 hover:bg-blue-700 text-white font-semibold",disabled:A,children:A?"Scheduling...":"Confirm Booking"})]}),z.submit&&(0,a.jsx)("p",{className:"text-xs text-red-500",children:z.submit})]}),(0,a.jsxs)("div",{className:"transition-all duration-300 ".concat(3===y?"flex":"hidden"," flex-col items-center justify-center text-center min-h-[260px] md:min-h-[340px]"),children:[(0,a.jsx)("div",{className:"mb-3 md:mb-4 rounded-full bg-green-100 border-2 md:border-4 border-green-300 p-2 md:p-4 flex items-center justify-center",children:(0,a.jsx)("span",{className:"block text-green-700 text-3xl md:text-5xl",children:"\uD83C\uDF89"})}),(0,a.jsx)("h2",{className:"text-xl md:text-2xl font-black text-green-700 mb-2 md:mb-3",children:"Booking Confirmed!"}),(0,a.jsxs)("div",{className:"mb-1 md:mb-2 text-gray-700 dark:text-gray-200 text-center text-base md:text-lg",children:[(0,a.jsxs)("span",{className:"block font-semibold",children:[v.name," (",v.email,")"]}),(0,a.jsxs)("span",{className:"my-1 md:my-2 block text-lg md:text-xl font-bold text-blue-700",children:[v.date&&(0,l.WU)(v.date,"EEEE, MMM d, yyyy")," at ",v.time]})]}),(0,a.jsxs)("div",{className:"flex flex-col w-full items-center mt-2 md:mt-4",children:[(0,a.jsx)("span",{className:"text-xs md:text-sm font-semibold mb-1 text-blue-700",children:"Add to your Calendar:"}),(0,a.jsxs)("div",{className:"flex flex-row gap-2 md:gap-3 mb-3 md:mb-4",children:[(0,a.jsx)(u.z,{size:"sm",variant:"outline",onClick:()=>{let e=encodeURIComponent(v.message||"Meeting Booking"),t=v.date&&v.time?(0,l.WU)(v.date,"yyyyMMdd")+"T"+v.time.replace(":","")+"00":"",r=v.date&&v.time?(0,l.WU)(v.date,"yyyyMMdd")+"T"+(+v.time.split(":")[0]+1).toString().padStart(2,"0")+v.time.split(":")[1]+"00":"",a="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Meeting&details=".concat(e,"&dates=").concat(t,"/").concat(r,"&ctz=UTC");window.open(a,"_blank")},children:"Google"}),(0,a.jsx)(u.z,{size:"sm",variant:"outline",onClick:()=>{if(!v.date||!v.time)return;let e=(0,l.WU)(v.date,"yyyyMMdd"),t=v.time.replace(":","")+"00",r=e+"T"+(+v.time.split(":")[0]+1).toString().padStart(2,"0")+v.time.split(":")[1]+"00",a=new Blob(["\nBEGIN:VCALENDAR\nVERSION:2.0\nBEGIN:VEVENT\nSUMMARY:Meeting\nDTSTART;TZID=UTC:".concat(e+"T"+t,"\nDTEND;TZID=UTC:").concat(r,"\nDESCRIPTION:").concat(v.message||"","\nLOCATION:\nEND:VEVENT\nEND:VCALENDAR\n").trim()],{type:"text/calendar"}),i=document.createElement("a");i.href=URL.createObjectURL(a),i.download="meeting.ics",document.body.appendChild(i),i.click(),document.body.removeChild(i)},children:"Outlook/iCal"})]}),(0,a.jsx)(u.z,{size:"sm",variant:"ghost",onClick:()=>{x(1),p(1),w({name:"",email:"",date:void 0,time:"",message:""})},className:"mt-2 underline text-blue-700",children:"Book another slot"})]})]})]})]})}),_&&(0,a.jsx)("div",{className:"fixed left-1/2 transform -translate-x-1/2 bottom-8 z-50 max-w-md w-full px-4","aria-live":"polite",children:(0,a.jsx)("div",{className:"rounded-lg p-3 sm:p-4 border ".concat("success"===_.type?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"mr-2",children:(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("success"===_.type?"bg-green-600":"bg-red-600")})}),(0,a.jsxs)("div",{className:"flex flex-col text-sm sm:text-base",children:[(0,a.jsx)("div",{className:"font-semibold",children:"success"===_.type?"Email sent":"Email failed"}),(0,a.jsx)("div",{className:"mt-1",children:_.message})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.z,{size:"sm",variant:"ghost",onClick:()=>M(null),children:"Dismiss"}),(0,a.jsx)(g.C,{variant:"success"===_.type?"default":"destructive",children:"success"===_.type?"Success":"Error"})]})]})})})]})}},5974:function(e,t,r){"use strict";r.d(t,{C:function(){return s}});var a=r(7437);r(2265);var i=r(535),n=r(4508);let l=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function s(e){let{className:t,variant:r,...i}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...i})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var a=r(7437),i=r(2265),n=r(5293),l=r(535),s=r(4508);let o=(0,l.j)("inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90 hover:shadow-lg hover:-translate-y-0.5",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,t)=>{let{className:r,variant:i,size:l,asChild:d=!1,...m}=e,c=d?n.g7:"button";return(0,a.jsx)(c,{className:(0,s.cn)(o({variant:i,size:l,className:r})),ref:t,...m})});d.displayName="Button"},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(1994),i=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.m6)((0,a.W)(t))}}},function(e){e.O(0,[949,494,971,117,744],function(){return e(e.s=5562)}),_N_E=e.O()}]);